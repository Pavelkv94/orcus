(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{123:function(e,t,n){e.exports={mainWindow:"MainWindow_mainWindow__nKQQg",backTop:"MainWindow_backTop__1xoHy"}},137:function(e,t,n){e.exports={greet:"Greeting_greet__337Fv",warning:"Greeting_warning__38Axs"}},138:function(e,t,n){e.exports={preloader:"App_preloader__1bkES"}},168:function(e,t,n){},172:function(e,t,n){e.exports={"ant-menu-submenu-title":"MenuBar_ant-menu-submenu-title__3ofyN"}},178:function(e,t,n){e.exports={login:"Login_login__2Px22"}},179:function(e,t,n){e.exports={adminContainer:"Admin_adminContainer__3tgww"}},200:function(e,t,n){},329:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(26),a=n.n(r),o=(n(200),n(36)),s=(n(138),n(201),n(22)),u=n(335),l=n(82),d=n(343),j=n(341),b=n(59),O=n(168),h=n.n(O),f=n(20),p=n(29),x=n(169),m=n.n(x);(new Headers).append("Content-Type","application/json");var g=m.a.create({baseURL:"https://orcuserver.herokuapp.com"}),v=function(e){return g.post("/categories",{title:e})},y=function(){return g.get("/categories")},_=function(e,t,n){return g.post("/posts",{title:e,category:t,text:n})},S=function(e,t,n,c){return g.put("/posts/".concat(c),{title:e,category:t,text:n})},T=function(e){return g.delete("/posts/".concat(e))},A=function(){return g.get("/shortPosts")},C=function(e){return g.get("main/".concat(e))},E={status:"idle",error:null,isAuth:!1};var w=function(e){return{type:"SET-APP-STATUS",status:e}},P=function(e){return{type:"SET-APP-AUTH",auth:e}},k=n(6),N=i.a.memo((function(){var e=Object(f.b)();return Object(k.jsx)("div",{children:Object(k.jsxs)(j.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],className:h.a.menu,children:[Object(k.jsx)(j.a.Item,{style:{position:"absolute",right:"10px"},onClick:function(){e(P(!1))},children:Object(k.jsx)(d.a,{})}),Object(k.jsx)(j.a.Item,{children:Object(k.jsx)(b.b,{to:{pathname:"/"},children:"Main"})}),Object(k.jsx)(j.a.Item,{children:Object(k.jsx)(b.b,{to:{pathname:"/admin"},children:"ADMIN"})})]})})})),F=n(172),L=n.n(F),I=n(344),D=n(173),H=n.n(D),R={};var M=function(e){return function(t){t(w("loading")),C(e).then((function(e){var n=e.data[0];t(function(e){return{type:"SET-POST",post:e}}(n)),t(w("succeeded"))})).catch((function(e){return console.log(e)}))}},G=i.a.memo((function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.posts.shortPosts})),n=Object(f.c)((function(e){return e.categories}));return Object(k.jsx)("div",{children:Object(k.jsx)(j.a,{className:L.a.menuBar,theme:"dark",mode:"inline",defaultSelectedKeys:["1"],subMenuCloseDelay:2,children:null===n||void 0===n?void 0:n.map((function(n){return Object(k.jsx)(H.a,{icon:Object(k.jsx)(I.a,{}),title:n.title,children:null===t||void 0===t?void 0:t.map((function(t){return t.category===n.title&&Object(k.jsx)(j.a.Item,{onClick:function(){return e(M(t._id))},children:Object(k.jsxs)(b.b,{to:"/main/".concat(t._id),children:[" ",t.title]})},t._id)}))},n._id)}))})})})),U=n(123),W=n.n(U),B=n(185),z=n(339),K=n(334),Q=function(){return Object(k.jsx)("div",{className:"preloader",children:Object(k.jsx)(K.a,{tip:"Loading...",size:"large"})})},V=i.a.memo((function(){var e=Object(s.g)().id,t=Object(f.b)(),n=Object(f.c)((function(e){return e.app.status}));Object(c.useEffect)((function(){t(M(e))}),[t,e]);var i=Object(f.c)((function(e){return e.filter})),r=Object(f.c)((function(e){return e.app.isAuth}));return"loading"===n?Object(k.jsx)(Q,{}):r?Object(k.jsxs)("div",{className:W.a.mainWindow,children:[Object(k.jsx)(B.a,{className:W.a.mde,children:null===i||void 0===i?void 0:i.text}),Object(k.jsx)(z.a,{children:Object(k.jsx)("div",{className:W.a.backTop,children:"UP"})})]}):Object(k.jsx)(s.a,{to:"/login"})})),J=n(25),Y=[];var q=n(178),X=n.n(q),Z=n(65),$=i.a.memo((function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.app.isAuth}));console.log(t);return t?Object(k.jsx)(s.a,{to:"/"}):Object(k.jsx)("div",{className:X.a.login,children:Object(k.jsx)(Z.a,{type:"primary",htmlType:"submit",onClick:function(){e(P(!0))},children:"Submit"})})})),ee=n(179),te=n.n(ee),ne=(n(160),n(136)),ce=n.n(ne),ie=n(180),re=n(55),ae=n.n(re),oe=n(340),se=n(336),ue=n(192),le=n(337),de=n(342),je=n(132),be=n.n(je),Oe=n(181),he={posts:[],shortPosts:[]};var fe=function(){return function(e){e(w("loading")),A().then((function(t){var n=t.data;e({type:"SET-SHORT-POSTS",shortPosts:n}),e(w("succeeded"))})).catch((function(e){return console.log(e)})),e(w("idle"))}},pe=n(338),xe=function(e){var t=e.visible,n=e.setVisible,c=e.callback,r=e.title,a=i.a.useState(!1),s=Object(o.a)(a,2),u=s[0],l=s[1];return Object(k.jsxs)(pe.a,{title:"Delete This Post?",visible:t,onOk:function(){c(),l(!0),setTimeout((function(){n(!1),l(!1)}),2e3)},confirmLoading:u,onCancel:function(){n(!1)},children:[Object(k.jsxs)("p",{children:["Are you sure you want to delete the ",Object(k.jsx)("b",{children:r}),"?"]}),Object(k.jsx)("p",{children:"This action cannot be undone."})]})},me=oe.a.Panel,ge=se.a.Option,ve=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){var n=[{preview:"Andre",value:"@andre"},{preview:"Angela",value:"@angela"},{preview:"David",value:"@david"},{preview:"Louise",value:"@louise"}].filter((function(e){return e.preview.toLowerCase().includes(t.toLowerCase())}));e(n)}),250)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=new Oe.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0}),_e=i.a.memo((function(){var e=Object(f.c)((function(e){return e.categories})),t=Object(f.c)((function(e){return e.posts.shortPosts})),n=Object(f.c)((function(e){return e.filter})),r=Object(f.c)((function(e){return e.app.status})),a=Object(f.b)(),s=Object(c.useState)(""),u=Object(o.a)(s,2),l=u[0],d=u[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),O=b[0],h=b[1],p=Object(c.useState)(""),x=Object(o.a)(p,2),m=x[0],g=x[1],y=Object(c.useState)(!1),A=Object(o.a)(y,2),C=A[0],E=A[1],P=Object(c.useState)(!1),N=Object(o.a)(P,2),F=N[0],L=N[1],I=i.a.useState(!1),D=Object(o.a)(I,2),H=D[0],R=D[1],G=i.a.useState({}),U=Object(o.a)(G,2),W=U[0],B=U[1],z=Object(c.useState)("write"),K=Object(o.a)(z,2),Q=K[0],V=K[1],J=Object(c.useState)(""),Y=Object(o.a)(J,2),q=Y[0],X=Y[1];Object(c.useEffect)((function(){C&&a(fe())}),[a,C]),Object(c.useEffect)((function(){"succeeded"===r&&ue.a.success({message:"SUCCESS!",placement:"topRight"}),"failed"===r&&ue.a.error({message:"FAILED!",placement:"topRight"})}),[r]);var $=function(e){L(!0),a(M(e)),d(n.title),h(n.category),g(n.text)},ee=function(e){a(function(e,t,n,c){return function(i){i(w("loading")),S(e,t,n,c).then((function(e){i(w("succeeded"))})).catch((function(e){return console.log(e)})),i(w("idle"))}}(l,O,m,e)),d(""),h(""),g("")};return Object(k.jsxs)("div",{className:ae.a.form,children:[Object(k.jsxs)("div",{className:ae.a.fields,children:[Object(k.jsxs)("div",{className:ae.a.postsFields,children:[Object(k.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(k.jsx)(le.a,{type:"text",name:"title",autoComplete:"off",value:l,onChange:function(e){d(e.currentTarget.value)}}),Object(k.jsx)("label",{htmlFor:"dropdown",children:"Categories:"}),Object(k.jsx)(se.a,{style:{width:380},onChange:function(e){h(e)},value:O,children:e.map((function(e){return Object(k.jsx)(ge,{value:e.title,children:e.title},e._id)}))})]}),Object(k.jsxs)("div",{className:ae.a.categoryFields,children:[Object(k.jsx)("label",{htmlFor:"category",children:"Add category:"}),Object(k.jsxs)("div",{className:ae.a.addCategory,children:[Object(k.jsx)(le.a,{type:"text",name:"category",autoComplete:"off",value:q,onChange:function(e){X(e.currentTarget.value)}}),Object(k.jsx)(Z.a,{type:"dashed",onClick:function(){v(q),X("")},disabled:!q,children:"ADD"})]})]})]}),Object(k.jsxs)("div",{className:ae.a.topActions,children:[Object(k.jsx)("a",{href:"https://stackedit.io/app#",target:"_blank",rel:"noreferrer",style:{width:"200px"},children:Object(k.jsx)(Z.a,{shape:"round",danger:!0,children:"MarkDown Editor"})}),Object(k.jsx)(de.a,{content:"Copied!",trigger:"click",children:Object(k.jsx)(Z.a,{shape:"round",style:{color:"orange",borderColor:"orange"},onClick:function(){return navigator.clipboard.writeText(m)},children:"COPY ALL TEXT"})})]}),Object(k.jsx)("div",{className:ae.a.createArea,children:Object(k.jsx)(be.a,{minEditorHeight:500,minPreviewHeight:600,value:m,onChange:g,selectedTab:Q,onTabChange:V,generateMarkdownPreview:function(e){return Promise.resolve(ye.makeHtml(e))},loadSuggestions:ve,childProps:{writeButton:{tabIndex:-1}}})}),Object(k.jsxs)("div",{className:ae.a.btn,children:[F&&Object(k.jsx)(Z.a,{type:"default",size:"large",danger:!0,onClick:function(){L(!1),d(""),h(""),g("")},children:"Cancel"}),Object(k.jsx)(Z.a,{type:"primary",size:"large",onClick:F?function(){return ee(n._id)}:function(){a(function(e,t,n){return function(c){c(w("loading")),_(e,t,n).then((function(e){c(w("succeeded"))})).catch((function(e){return console.log(e)})),c(w("idle"))}}(l,O,m)),d(""),h(""),g(""),a(fe())},disabled:""===l||""===O||""===m,children:F?"SAVE CHANGES":"CREATE NEW POST"})]}),Object(k.jsx)("hr",{}),C?Object(k.jsx)(Z.a,{type:"primary",ghost:!0,onClick:function(){return E(!1)},children:"Close Posts List"}):Object(k.jsx)(Z.a,{type:"primary",ghost:!0,onClick:function(){return E(!0)},children:"All Posts"}),C&&Object(k.jsx)(oe.a,{children:e.map((function(e){return Object(k.jsx)(me,{header:e.title,children:t.map((function(t){return t.category===e.title&&Object(k.jsxs)("p",{children:[t.title,Object(k.jsx)(Z.a,{type:"dashed",style:{color:"green",margin:"0px 4px",float:"right"},onClick:function(){return $(t._id)},children:"Edit"}),Object(k.jsx)(Z.a,{type:"dashed",style:{color:"red",margin:"0px 4px",float:"right"},onClick:function(){return function(e,t){R(!0),B({id:e,title:t})}(t._id,t.title)},children:"Delete"})]},t._id)}))},e._id)}))}),Object(k.jsx)(xe,{visible:H,setVisible:R,callback:function(){var e;a((e=W.id,function(t){t(w("loading")),T(e).then((function(e){t(w("succeeded"))})).catch((function(e){return console.log(e)})),t(w("idle"))})),a(fe())},title:W.title})]})})),Se=i.a.memo((function(){var e=Object(f.c)((function(e){return e.app.status}));return Object(f.c)((function(e){return e.app.isAuth}))?Object(k.jsxs)(k.Fragment,{children:["loading"===e&&Object(k.jsx)(Q,{}),Object(k.jsxs)("div",{className:te.a.adminContainer,children:[Object(k.jsx)(_e,{}),Object(k.jsx)("hr",{})]})]}):Object(k.jsx)(s.a,{to:"/login"})})),Te=n(137),Ae=n.n(Te),Ce=i.a.memo((function(){return Object(f.c)((function(e){return e.app.isAuth}))?Object(k.jsxs)("div",{className:Ae.a.greet,children:[Object(k.jsx)("div",{}),Object(k.jsx)("h2",{children:"Hello"}),Object(k.jsx)("h3",{children:"This is orcus app. Good luck!"}),Object(k.jsx)("div",{}),Object(k.jsxs)("section",{className:Ae.a.warning,children:[Object(k.jsxs)("p",{children:["The developer of this application is not responsible for any consequences of its use.",Object(k.jsx)("br",{})," All materials are provided for educational purposes only!"]}),Object(k.jsxs)("p",{children:["\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0435\u0441\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0437\u0430 \u043b\u044e\u0431\u044b\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f \u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f.",Object(k.jsx)("br",{})," \u0412\u0441\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0446\u0435\u043b\u044f\u0445!"]})]})]}):Object(k.jsx)(s.a,{to:"/login"})})),Ee=u.a.Header,we=u.a.Content,Pe=u.a.Sider;var ke=function(){var e=Object(f.b)(),t=Object(c.useState)(!1),n=Object(o.a)(t,2),i=n[0],r=n[1];return Object(c.useEffect)((function(){e((function(e){y().then((function(t){var n=t.data;e(function(e){return{type:"SET-CATEGORIES",categories:e}}(n)),e(w("succeeded"))})).catch((function(e){return console.log(e)}))}))}),[e]),Object(c.useEffect)((function(){e(fe())}),[e]),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(Ee,{children:Object(k.jsx)(N,{})}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(Pe,{width:200,className:"site-layout-background",collapsed:i,collapsible:!0,onCollapse:function(){return r(!i)},children:Object(k.jsx)(G,{})}),Object(k.jsx)(u.a,{style:{padding:"0 24px 24px"},children:Object(k.jsx)(we,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:Object(k.jsxs)(s.d,{children:[Object(k.jsx)(s.b,{exact:!0,path:"/main/:id?",render:function(){return Object(k.jsx)(V,{})}}),Object(k.jsx)(s.b,{exact:!0,path:"/admin",render:function(){return Object(k.jsx)(Se,{})}}),Object(k.jsx)(s.b,{render:function(){return Object(k.jsx)($,{})},path:"/login"}),Object(k.jsx)(s.b,{render:function(){return Object(k.jsx)(Ce,{})},path:"/"}),Object(k.jsx)(s.b,{render:function(){return Object(k.jsx)(l.a,{image:l.a.PRESENTED_IMAGE_SIMPLE,style:{height:"90vh"}})},path:"*"})]})})})]})]})},Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,345)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))},Fe=n(124),Le=n(184),Ie=Object(Fe.b)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-CATEGORIES":return t.categories.sort((function(e,t){return e.title>t.title?1:-1}));case"ADD-CATEGORIES":return[].concat(Object(J.a)(e),[t.category]);default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-POSTS":return Object(p.a)(Object(p.a)({},e),{},{posts:t.posts});case"SET-SHORT-POSTS":return Object(p.a)(Object(p.a)({},e),{},{shortPosts:t.shortPosts.sort((function(e,t){return e.title>t.title?1:-1}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-POST":return t.post;default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-CATEGORIES":return t.categories;case"SET-APP-STATUS":return Object(p.a)(Object(p.a)({},e),{},{status:t.status});case"SET-APP-AUTH":return Object(p.a)(Object(p.a)({},e),{},{isAuth:t.auth});default:return e}}}),De=Object(Fe.c)(Ie,Object(Fe.a)(Le.a));a.a.render(Object(k.jsx)(f.a,{store:De,children:Object(k.jsx)(b.a,{children:Object(k.jsx)(ke,{})})}),document.getElementById("root")),Ne()},55:function(e,t,n){e.exports={form:"AdminForm_form__uj-lA",fields:"AdminForm_fields__3yaux",postsFields:"AdminForm_postsFields__2YPAC",categoryFields:"AdminForm_categoryFields__3t7Q8",addCategory:"AdminForm_addCategory__3TF29",createArea:"AdminForm_createArea__2u8_m",btn:"AdminForm_btn__2S7st",topActions:"AdminForm_topActions__2LNlC"}}},[[329,1,2]]]);
//# sourceMappingURL=main.bd971e47.chunk.js.map