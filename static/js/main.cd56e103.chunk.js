(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){e.exports={mainWindow:"MainWindow_mainWindow__24YO7",backTop:"MainWindow_backTop__5hNKB"}},116:function(e,t,n){e.exports={preloader:"App_preloader__20AE2"}},145:function(e,t,n){},150:function(e,t,n){e.exports={"ant-menu-submenu-title":"MenuBar_ant-menu-submenu-title__hgwk-"}},157:function(e,t,n){e.exports={login:"Login_login__5WqZj"}},158:function(e,t,n){e.exports={adminContainer:"Admin_adminContainer__35A89"}},163:function(e,t,n){e.exports={greet:"Greeting_greet__-CVu-"}},178:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(32),i=n.n(a),s=(n(178),n(48)),o=(n(116),n(179),n(19)),u=n(314),l=n(68),j=n(320),d=n(318),b=n(53),O=n(145),h=n.n(O),p=n(20),f=n(27),m={status:"idle",error:null,isAuth:!1};var x=function(e){return{type:"SET-APP-STATUS",status:e}},g=function(e){return{type:"SET-APP-AUTH",auth:e}},v=n(6),_=r.a.memo((function(){var e=Object(p.b)();return Object(v.jsx)("div",{children:Object(v.jsxs)(d.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],className:h.a.menu,children:[Object(v.jsx)(d.a.Item,{style:{position:"absolute",right:"10px"},onClick:function(){e(g(!1))},children:Object(v.jsx)(j.a,{})}),Object(v.jsx)(d.a.Item,{children:Object(v.jsx)(b.b,{to:{pathname:"/admin"},children:"ADMIN"})})]})})})),T=n(150),S=n.n(T),y=n(321),A=n(152),C=n.n(A),E=n(151),w=n.n(E);(new Headers).append("Content-Type","application/json");var P=w.a.create({baseURL:"https://orcuserver.herokuapp.com"}),k=function(e){return P.post("/categories",{title:e})},N=function(){return P.get("/categories")},F=function(e,t,n){return P.post("/posts",{title:e,category:t,text:n})},I=function(){return P.get("/shortPosts")},H=function(e){return P.get("main/".concat(e))},L={};var D=function(e){return function(t){t(x("loading")),H(e).then((function(e){var n=e.data[0];t(function(e){return{type:"SET-POST",post:e}}(n)),t(x("succeeded"))})).catch((function(e){return console.log(e)}))}},M=r.a.memo((function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.posts.shortPosts})),n=Object(p.c)((function(e){return e.categories}));return console.log(t),Object(v.jsx)("div",{children:Object(v.jsx)(d.a,{className:S.a.menuBar,theme:"dark",mode:"inline",defaultSelectedKeys:["1"],subMenuCloseDelay:2,children:null===n||void 0===n?void 0:n.map((function(n){return Object(v.jsx)(C.a,{icon:Object(v.jsx)(y.a,{}),title:n.title,children:null===t||void 0===t?void 0:t.map((function(t){return t.category===n.title&&Object(v.jsx)(d.a.Item,{onClick:function(){return e(D(t._id))},children:Object(v.jsxs)(b.b,{to:"/main/".concat(t._id),children:[" ",t.title]})},t._id)}))},n._id)}))})})})),R=n(100),G=n.n(R),U=n(165),W=n(319),B=n(313),q=function(){return Object(v.jsx)("div",{className:"preloader",children:Object(v.jsx)(B.a,{tip:"Loading...",size:"large"})})},z=r.a.memo((function(){var e=Object(o.g)().id,t=Object(p.b)(),n=Object(p.c)((function(e){return e.app.status}));Object(c.useEffect)((function(){t(D(e))}),[t,e]);var r=Object(p.c)((function(e){return e.filter})),a=Object(p.c)((function(e){return e.app.isAuth}));return"loading"===n?Object(v.jsx)(q,{}):a?Object(v.jsxs)("div",{className:G.a.mainWindow,children:[Object(v.jsx)(U.a,{className:G.a.mde,children:null===r||void 0===r?void 0:r.text}),Object(v.jsx)(W.a,{children:Object(v.jsx)("div",{className:G.a.backTop,children:"UP"})})]}):Object(v.jsx)(o.a,{to:"/login"})})),J=n(24),K=[];var V=n(157),X=n.n(V),Y=n(168),Z=r.a.memo((function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.app.isAuth}));console.log(t);return t?Object(v.jsx)(o.a,{to:"/"}):Object(v.jsx)("div",{className:X.a.login,children:Object(v.jsx)(Y.a,{type:"primary",htmlType:"submit",onClick:function(){e(g(!0))},children:"Submit"})})})),Q=n(158),$=n.n(Q),ee=(n(137),n(114)),te=n.n(ee),ne=n(159),ce=n(52),re=n.n(ce),ae=n(315),ie=n(316),se=n(317),oe=n(109),ue=n.n(oe),le=n(160),je={posts:[],shortPosts:[]};var de=ae.a.Option,be=function(){var e=Object(ne.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){var n=[{preview:"Andre",value:"@andre"},{preview:"Angela",value:"@angela"},{preview:"David",value:"@david"},{preview:"Louise",value:"@louise"}].filter((function(e){return e.preview.toLowerCase().includes(t.toLowerCase())}));e(n)}),250)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=new le.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0}),he=r.a.memo((function(){var e=Object(p.c)((function(e){return e.categories})),t=Object(p.b)(),n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(""),u=Object(s.a)(o,2),l=u[0],j=u[1],d=Object(c.useState)(""),b=Object(s.a)(d,2),O=b[0],h=b[1],f=Object(c.useState)("write"),m=Object(s.a)(f,2),g=m[0],_=m[1],T=Object(c.useState)(""),S=Object(s.a)(T,2),y=S[0],A=S[1],C=Object(c.useState)(!1),E=Object(s.a)(C,2),w=E[0],P=E[1];!0===w&&setTimeout((function(){P(!1)}),5e3);return Object(v.jsxs)("div",{className:re.a.form,children:[Object(v.jsxs)("div",{className:re.a.fields,children:[Object(v.jsxs)("div",{className:re.a.postsFields,children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(v.jsx)(ie.a,{type:"text",name:"title",autoComplete:"off",value:a,onChange:function(e){i(e.currentTarget.value)}}),Object(v.jsx)("label",{htmlFor:"dropdown",children:"Categories:"}),Object(v.jsx)(ae.a,{style:{width:380},onChange:function(e){j(e)},value:l,children:e.map((function(e){return Object(v.jsx)(de,{value:e.title,children:e.title},e._id)}))})]}),Object(v.jsxs)("div",{className:re.a.categoryFields,children:[Object(v.jsx)("label",{htmlFor:"category",children:"Add category:"}),Object(v.jsxs)("div",{className:re.a.addCategory,children:[Object(v.jsx)(ie.a,{type:"text",name:"category",autoComplete:"off",value:y,onChange:function(e){A(e.currentTarget.value)}}),Object(v.jsx)(Y.a,{type:"dashed",onClick:function(){k(y),A("")},disabled:!y,children:"ADD"})]})]})]}),Object(v.jsx)("a",{href:"https://stackedit.io/app#",target:"_blank",rel:"noreferrer",style:{width:"200px"},children:Object(v.jsx)(Y.a,{shape:"round",danger:!0,children:" MarkDown Editor"})}),Object(v.jsx)("div",{className:re.a.createArea,children:Object(v.jsx)(ue.a,{minEditorHeight:500,minPreviewHeight:600,value:O,onChange:h,selectedTab:g,onTabChange:_,generateMarkdownPreview:function(e){return Promise.resolve(Oe.makeHtml(e))},loadSuggestions:be,childProps:{writeButton:{tabIndex:-1}}})}),Object(v.jsx)("div",{className:re.a.btn,children:Object(v.jsx)(Y.a,{type:"primary",size:"large",onClick:function(){t(function(e,t,n){return function(c){c(x("loading")),F(e,t,n).then((function(e){c(x("succeeded"))})).catch((function(e){return console.log(e)}))}}(a,l,O)),P(!0),i(""),j(""),h("")},disabled:""===a||""===l||""===O,children:"CREATE NEW POST"})}),w&&Object(v.jsx)(se.a,{status:"success",title:"Post Is Created!!!"}),Object(v.jsx)("hr",{})]})})),pe=r.a.memo((function(){var e=Object(p.c)((function(e){return e.app.status}));return Object(p.c)((function(e){return e.app.isAuth}))?Object(v.jsxs)(v.Fragment,{children:["loading"===e&&Object(v.jsx)(q,{}),Object(v.jsxs)("div",{className:$.a.adminContainer,children:[Object(v.jsx)(he,{}),Object(v.jsx)("hr",{})]})]}):Object(v.jsx)(o.a,{to:"/login"})})),fe=n(163),me=n.n(fe),xe=r.a.memo((function(){return Object(p.c)((function(e){return e.app.isAuth}))?Object(v.jsxs)("div",{className:me.a.greet,children:[Object(v.jsx)("div",{}),Object(v.jsx)("h2",{children:"Hello"}),Object(v.jsx)("p",{children:"This is orcus app. "}),Object(v.jsx)("div",{})]}):Object(v.jsx)(o.a,{to:"/login"})})),ge=u.a.Header,ve=u.a.Content,_e=u.a.Sider;var Te=function(){var e=Object(p.b)(),t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){e((function(e){N().then((function(t){var n=t.data;e(function(e){return{type:"SET-CATEGORIES",categories:e}}(n)),e(x("succeeded"))})).catch((function(e){return console.log(e)}))}))}),[e]),Object(c.useEffect)((function(){e((function(e){e(x("loading")),I().then((function(t){var n=t.data;e({type:"SET-SHORT-POSTS",shortPosts:n}),e(x("succeeded"))})).catch((function(e){return console.log(e)}))}))}),[e]),Object(v.jsxs)(u.a,{children:[Object(v.jsx)(ge,{children:Object(v.jsx)(_,{})}),Object(v.jsxs)(u.a,{children:[Object(v.jsx)(_e,{width:200,className:"site-layout-background",collapsed:r,collapsible:!0,onCollapse:function(){return a(!r)},children:Object(v.jsx)(M,{})}),Object(v.jsx)(u.a,{style:{padding:"0 24px 24px"},children:Object(v.jsx)(ve,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:Object(v.jsxs)(o.d,{children:[Object(v.jsx)(o.b,{exact:!0,path:"/main/:id?",render:function(){return Object(v.jsx)(z,{})}}),Object(v.jsx)(o.b,{exact:!0,path:"/admin",render:function(){return Object(v.jsx)(pe,{})}}),Object(v.jsx)(o.b,{render:function(){return Object(v.jsx)(Z,{})},path:"/login"}),Object(v.jsx)(o.b,{render:function(){return Object(v.jsx)(xe,{})},path:"/"}),Object(v.jsx)(o.b,{render:function(){return Object(v.jsx)(l.a,{image:l.a.PRESENTED_IMAGE_SIMPLE,style:{height:"90vh"}})},path:"*"})]})})})]})]})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,322)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},ye=n(101),Ae=n(164),Ce=Object(ye.b)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-CATEGORIES":return t.categories.sort((function(e,t){return e.title>t.title?1:-1}));case"ADD-CATEGORIES":return[].concat(Object(J.a)(e),[t.category]);default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-POSTS":return Object(f.a)(Object(f.a)({},e),{},{posts:t.posts});case"SET-SHORT-POSTS":return Object(f.a)(Object(f.a)({},e),{},{shortPosts:t.shortPosts.sort((function(e,t){return e.title>t.title?1:-1}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-POST":return t.post;default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-CATEGORIES":return t.categories;case"SET-APP-STATUS":return Object(f.a)(Object(f.a)({},e),{},{status:t.status});case"SET-APP-AUTH":return Object(f.a)(Object(f.a)({},e),{},{isAuth:t.auth});default:return e}}}),Ee=Object(ye.c)(Ce,Object(ye.a)(Ae.a));i.a.render(Object(v.jsx)(p.a,{store:Ee,children:Object(v.jsx)(b.a,{children:Object(v.jsx)(Te,{})})}),document.getElementById("root")),Se()},52:function(e,t,n){e.exports={form:"AdminForm_form__34TSJ",fields:"AdminForm_fields__2vU6H",postsFields:"AdminForm_postsFields__283_X",categoryFields:"AdminForm_categoryFields__fclOq",addCategory:"AdminForm_addCategory__2pIjH",createArea:"AdminForm_createArea__3kh7L",btn:"AdminForm_btn__28Gqj"}}},[[308,1,2]]]);
//# sourceMappingURL=main.cd56e103.chunk.js.map